<!doctype html>
<html class="docs-version-v17" lang="en" dir="ltr">
<head>
<meta charset=UTF-8"UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GraphQL Java RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GraphQL Java Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126627606-1","auto"),ga("send","pageview")</script>
<script async src="../../../../www.google-analytics.com/analytics.js" tppabs="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Scalars | GraphQL Java</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://graphql-java.com/documentation/v17/scalars"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="v17"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-v17"><meta data-react-helmet="true" property="og:title" content="Scalars | GraphQL Java"><meta data-react-helmet="true" name="description" content="How scalar types work in graphql and how to write your own scalars"><meta data-react-helmet="true" property="og:description" content="How scalar types work in graphql and how to write your own scalars"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://graphql-java.com/documentation/v17/scalars"><link data-react-helmet="true" rel="alternate" href="https://graphql-java.com/documentation/v17/scalars" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://graphql-java.com/documentation/v17/scalars" hreflang="x-default"><link rel="stylesheet" href="../../../assets/css/styles.cf0d1b68.css" tppabs="https://www.graphql-java.com/assets/css/styles.cf0d1b68.css">
<link rel="preload" href="/assets/js/runtime~main.97858eab.js" as="script">
<link rel="preload" href="/assets/js/main.3a2e843f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="javascript:if(confirm('https://www.graphql-java.com/  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/'" tppabs="https://www.graphql-java.com/"><div class="navbar__logo"><img src="../../../img/logo.png" tppabs="https://www.graphql-java.com/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="../../../img/logo.png" tppabs="https://www.graphql-java.com/img/logo.png" alt="GraphQL Java logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">GraphQL Java</b></a><a class="navbar__item navbar__link navbar__link--active" href="../getting-started/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/getting-started">Documentation</a><a href="javascript:if(confirm('https://leanpub.com/graphql-java/  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://leanpub.com/graphql-java/'" tppabs="https://leanpub.com/graphql-java/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Book</a><a class="navbar__item navbar__link" href="javascript:if(confirm('https://www.graphql-java.com/tutorials/getting-started-with-spring-boot  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/tutorials/getting-started-with-spring-boot'" tppabs="https://www.graphql-java.com/tutorials/getting-started-with-spring-boot">Tutorial</a><a class="navbar__item navbar__link" href="javascript:if(confirm('https://www.graphql-java.com/blog  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/blog'" tppabs="https://www.graphql-java.com/blog">Blog</a><a class="navbar__item navbar__link" href="javascript:if(confirm('https://www.graphql-java.com/about  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/about'" tppabs="https://www.graphql-java.com/about">About</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="../getting-started/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/getting-started">v17</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../master/scalars/index.htm" tppabs="https://www.graphql-java.com/documentation/master/scalars">master</a></li><li><a class="dropdown__link" href="../../scalars/index.htm" tppabs="https://www.graphql-java.com/documentation/scalars">v18</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="index.htm" tppabs="https://www.graphql-java.com/documentation/v17/scalars">v17</a></li></ul></div><a href="javascript:if(confirm('https://github.com/graphql-java/graphql-java  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://github.com/graphql-java/graphql-java'" tppabs="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../getting-started/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../batching/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/batching">Batching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../concerns/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/concerns">Concerns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../contributions/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/contributions">Contributions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../data-fetching/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/data-fetching">Data fetching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../data-mapping/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/data-mapping">Data mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../exceptions/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/exceptions">Exceptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../execution/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/execution">Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../field-selection/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/field-selection">Field Selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../field-visibility/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/field-visibility">Field Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../instrumentation/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/instrumentation">Instrumentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../logging/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/logging">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../relay/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/relay">Relay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="index.htm" tppabs="https://www.graphql-java.com/documentation/v17/scalars">Scalars</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../schema/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/schema">Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../sdl-directives/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/sdl-directives">SDL Directives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../subscriptions/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/subscriptions">Subscriptions</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->GraphQL Java<!-- --> <b>v17</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="../../scalars/index.htm" tppabs="https://www.graphql-java.com/documentation/scalars">latest version</a></b> (<!-- -->v18<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->v17</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scalars in graphql</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="scalars">Scalars<a aria-hidden="true" class="hash-link" href="#scalars" title="Direct link to heading">‚Äã</a></h2><p>The leaf nodes of the graphql type system are called scalars.  Once you reach a scalar type you
cannot descend down any further into the type hierarchy.  A scalar type is meant to represent
an indivisible value.</p><p>The graphql specification says that all implementations must have the following scalar types.</p><ul><li>String aka <code>GraphQLString</code> - A UTF‚Äê8 character sequence.</li><li>Boolean aka <code>GraphQLBoolean</code> - true or false.</li><li>Int aka <code>GraphQLInt</code> - A signed 32‚Äêbit integer.</li><li>Float aka <code>GraphQLFloat</code> - A signed double-precision floating-point value.</li><li>ID aka <code>GraphQLID</code> - A unique identifier which is serialized in the same way as a String; however, defining it as an ID signifies that it is not intended to be human‚Äêreadable.</li></ul><p>graphql-java adds the following scalar types which are useful in Java based systems</p><ul><li>Long aka <code>GraphQLLong</code> - a java.lang.Long based scalar</li><li>Short aka <code>GraphQLShort</code> - a java.lang.Short based scalar</li><li>Byte aka <code>GraphQLByte</code>  - a java.lang.Byte based scalar</li><li>BigDecimal aka <code>GraphQLBigDecimal</code> - a java.math.BigDecimal based scalar</li><li>BigInteger aka <code>GraphQLBigInteger</code> - a java.math.BigInteger based scalar</li></ul><p>The class <code>graphql.Scalars</code> contains singleton instances of the provided scalar types</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="writing-your-own-custom-scalars">Writing your Own Custom Scalars<a aria-hidden="true" class="hash-link" href="#writing-your-own-custom-scalars" title="Direct link to heading">‚Äã</a></h2><p>You can write your own custom scalar implementations.  In doing so you take on the responsibility for coercing values
at runtime, which we will explain in a moment.</p><p>Imagine we decide we need to have an email scalar type.  It will take email addresses as input and output.</p><p>We would create a singleton <code>graphql.schema.GraphQLScalarType</code> instance for this like so.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public static final GraphQLScalarType EMAIL = GraphQLScalarType.newScalar()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .name(&quot;email&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .description(&quot;A custom scalar that handles emails&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .coercing(new Coercing() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public Object serialize(Object dataFetcherResult) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return serializeEmail(dataFetcherResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public Object parseValue(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return parseEmailFromVariable(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public Object parseLiteral(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return parseEmailFromAstLiteral(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="coercing-values">Coercing values<a aria-hidden="true" class="hash-link" href="#coercing-values" title="Direct link to heading">‚Äã</a></h2><p>The real work in any custom scalar implementation is the <code>graphql.schema.Coercing</code> implementation.  This is responsible for 3 functions</p><ul><li><code>parseValue</code> - takes a variable input object and converts into the Java runtime representation</li><li><code>parseLiteral</code> - takes an AST literal <code>graphql.language.Value</code> as input and converts into the Java runtime representation</li><li><code>serialize</code> - takes a Java object and converts it into the output shape for that scalar</li></ul><p>So your custom scalar code has to handle 2 forms of input (parseValue / parseLiteral)  and 1 form of output (serialize).</p><p>Imagine this query, which uses variables, AST literals and outputs our scalar type <code>email</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><pre tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">mutation</span><span class="token plain"> Contact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$mainContact</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Email</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  makeContact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">mainContactEmail</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$mainContact</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#00a4db">backupContactEmail</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;backup@company.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mainContactEmail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Our custom Email scalar will</p><ul><li>be called via <code>parseValue</code> to convert the <code>$mainContact</code> variable value into a runtime object</li><li>be called via <code>parseLiteral</code> to convert the AST <code>graphql.language.StringValue</code> &quot;<a href="mailto:backup@company.com" target="_blank" rel="noopener noreferrer">backup@company.com</a>&quot; into a runtime object</li><li>be called via <code>serialise</code> to turn the runtime representation of mainContactEmail into a form ready for output</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="validation-of-input-and-output">Validation of input and output<a aria-hidden="true" class="hash-link" href="#validation-of-input-and-output" title="Direct link to heading">‚Äã</a></h2><p>The methods can validate that the received input makes sense.  For example our email scalar will try to validate that the input
and output are indeed email addresses.</p><p>The JavaDoc method contract of <code>graphql.schema.Coercing</code> says the following</p><ul><li>The <code>serialise</code> MUST ONLY allow <code>graphql.schema.CoercingSerializeException</code> to be thrown from it.  This indicates that the
value cannot be serialised into an appropriate form.  You must not allow other runtime exceptions to escape this method to get
the normal graphql behaviour for validation.  You MUST return a non null value</li></ul><ul><li><p>The <code>parseValue</code> MUST ONLY allow <code>graphql.schema.CoercingParseValueException</code> to be thrown from it.  This indicates that the
value cannot be parsed as input into an appropriate form.  You must not allow other runtime exceptions to escape this method to get
the normal graphql behaviour for validation.  You MUST return a non null value.</p></li><li><p>The <code>parseLiteral</code>  MUST ONLY allow <code>graphql.schema.CoercingParseLiteralException</code> to be thrown from it.  This indicates that the
AST value cannot be parsed as input into an appropriate form.  You must not allow any runtime exceptions to escape this method to get
the normal graphql behaviour for validation.</p></li></ul><p>Some people try to rely on runtime exceptions for validation and hope that they come out as graphql errors.  This is not the case.  You
MUST follow the <code>Coercing</code> method contracts to allow the graphql-java engine to work according to the graphql specification on scalar types.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="example-implementation">Example implementation<a aria-hidden="true" class="hash-link" href="#example-implementation" title="Direct link to heading">‚Äã</a></h2><p>The following is a really rough implementation of our imagined <code>email</code> scalar type to show you how one might implement the <code>Coercing</code> methods
such a scalar.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public static class EmailScalar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static final GraphQLScalarType EMAIL = GraphQLScalarType.newScalar()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .name(&quot;email&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .description(&quot;A custom scalar that handles emails&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .coercing(new Coercing() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public Object serialize(Object dataFetcherResult) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return serializeEmail(dataFetcherResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public Object parseValue(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return parseEmailFromVariable(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public Object parseLiteral(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return parseEmailFromAstLiteral(input);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static boolean looksLikeAnEmailAddress(String possibleEmailValue) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ps.  I am not trying to replicate RFC-3696 clearly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Pattern.matches(&quot;[A-Za-z0-9]@[.*]&quot;, possibleEmailValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static Object serializeEmail(Object dataFetcherResult) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String possibleEmailValue = String.valueOf(dataFetcherResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (looksLikeAnEmailAddress(possibleEmailValue)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return possibleEmailValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new CoercingSerializeException(&quot;Unable to serialize &quot; + possibleEmailValue + &quot; as an email address&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static Object parseEmailFromVariable(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (input instanceof String) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String possibleEmailValue = input.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (looksLikeAnEmailAddress(possibleEmailValue)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return possibleEmailValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new CoercingParseValueException(&quot;Unable to parse variable value &quot; + input + &quot; as an email address&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static Object parseEmailFromAstLiteral(Object input) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (input instanceof StringValue) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String possibleEmailValue = ((StringValue) input).getValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (looksLikeAnEmailAddress(possibleEmailValue)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return possibleEmailValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new CoercingParseLiteralException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Value is not any email address : &#x27;&quot; + String.valueOf(input) + &quot;&#x27;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="javascript:if(confirm('https://github.com/graphql-java/graphql-java-page/edit/master/versioned_docs/version-v17/scalars.md  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://github.com/graphql-java/graphql-java-page/edit/master/versioned_docs/version-v17/scalars.md'" tppabs="https://github.com/graphql-java/graphql-java-page/edit/master/versioned_docs/version-v17/scalars.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="../relay/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/relay"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Relay</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="../schema/index.htm" tppabs="https://www.graphql-java.com/documentation/v17/schema"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schema<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scalars" class="table-of-contents__link toc-highlight">Scalars</a></li><li><a href="#writing-your-own-custom-scalars" class="table-of-contents__link toc-highlight">Writing your Own Custom Scalars</a></li><li><a href="#coercing-values" class="table-of-contents__link toc-highlight">Coercing values</a></li><li><a href="#validation-of-input-and-output" class="table-of-contents__link toc-highlight">Validation of input and output</a></li><li><a href="#example-implementation" class="table-of-contents__link toc-highlight">Example implementation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="../../getting-started/index.htm" tppabs="https://www.graphql-java.com/documentation/getting-started">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="javascript:if(confirm('https://www.graphql-java.com/tutorials/getting-started-with-spring-boot  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/tutorials/getting-started-with-spring-boot'" tppabs="https://www.graphql-java.com/tutorials/getting-started-with-spring-boot">3 Min Tutorial</a></li><li class="footer__item"><a href="javascript:if(confirm('https://javadoc.io/doc/com.graphql-java/graphql-java/  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://javadoc.io/doc/com.graphql-java/graphql-java/'" tppabs="https://javadoc.io/doc/com.graphql-java/graphql-java/" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaDoc</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="javascript:if(confirm('https://github.com/graphql-java/graphql-java/discussions  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://github.com/graphql-java/graphql-java/discussions'" tppabs="https://github.com/graphql-java/graphql-java/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="javascript:if(confirm('https://twitter.com/graphql_java  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://twitter.com/graphql_java'" tppabs="https://twitter.com/graphql_java" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="javascript:if(confirm('https://www.graphql-java.com/blog  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://www.graphql-java.com/blog'" tppabs="https://www.graphql-java.com/blog">Blog</a></li><li class="footer__item"><a href="javascript:if(confirm('https://github.com/graphql-java/graphql-java  \n\n∏√Œƒº˛Œﬁ∑®”√ Teleport Ultra œ¬‘ÿ, “ÚŒ™ À¸ «“ª∏ˆ”ÚªÚ¬∑æ∂Õ‚≤ø±ª…Ë÷√Œ™À¸µƒ∆Ù ºµÿ÷∑µƒµÿ÷∑°£  \n\nƒ„œÎ‘⁄∑˛ŒÒ∆˜…œ¥Úø™À¸?'))window.location='https://github.com/graphql-java/graphql-java'" tppabs="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Andreas Marek.</div></div></div></footer></div>
<script src="../../../assets/js/runtime~main.97858eab.js" tppabs="https://www.graphql-java.com/assets/js/runtime~main.97858eab.js"></script>
<script src="../../../assets/js/main.3a2e843f.js" tppabs="https://www.graphql-java.com/assets/js/main.3a2e843f.js"></script>
</body>
</html>